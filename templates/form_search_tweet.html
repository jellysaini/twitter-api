{% extends "index.html" %}
{% load static %} 
{% load crispy_forms_tags %} 
{% block title %}Search Tweet{% endblock title %} 

{% block content %}
<!-- Start container-fluid  -->
<div class="container-fluid pb-5 my-5">
    <!-- Start row -->
    <div class="row pt-4 d-flex justify-content-center">
        <h4>Search Tweet</h4>
      </div>
      <!-- End row -->
      
      <!-- Start row -->
      <div class="row justify-content-center">
        <!-- Start col -->
    <div class="col col-md-6">
      <form class="" action="" method="post">
          {% csrf_token %} {{form|crispy }}
  
          <div class="">
            <div class="col">
              <input
                class="btn btn-block btn-outline-dark"
                type="submit"
                value="Search"
              />
            </div>
          </div>
        </form>
      </div>
      <!-- End col -->
    </div>
    <!-- End row -->
    
    {% if search_tweets %}

    <!-- Start row -->
   <div class="row pt-4 d-flex justify-content-center">
    <h4>Search Result for {{form.query.value}}</h4>
  </div>
  <!-- End row -->
  <!-- Start row -->
  <div class="row pt-4 justify-content-center">
    {% for t in search_tweets %}
        <!-- Start col -->  
        <div class="col-12 p-lg-3 m-lg-2">
            <!-- Start row -->
            <div class="row p-2">
                <!-- Start col -->
                <div class="col-12 bg-white rounded shadow-sm">
                <!-- Start row -->
                <div class="row list-group-item d-flex">
                    <!-- Start col -->
                    <div class="col-1">
                    <img src="{{t.user.profile_image_url_https}}" class="img-fluid img-thumbnail" alt="{{t.user.name}}" srcset="">
                    </div>
                    <!-- End col -->
                    <!-- Start col -->
                    <div class="col-11">
                    <!-- Start row -->
                    <div class="row ">

                        <div class="col font-weight-bold d-flex">Tweet Details
                        <i data-toggle="tooltip" title="This detail is fetched from Tweeter API." class="ri-error-warning-line ri-xxs align-self-start"></i>
                        </div>
                    
                    </div>
                    <!-- End row -->
                    <!-- Start row -->
                    <div class="row list-group-item d-flex">
        
                        <div class="col">Text : {{t.text}}{% if t.truncated %}...{% endif %}</div>
                        
                    </div>
                    <!-- End row -->

                    <!-- Start row -->
                    <div class="row pt-3">

                        <div class="col font-weight-bold d-flex">User Details
                        <i data-toggle="tooltip" title="This detail is fetched from  Tweeter API." class="ri-error-warning-line ri-xxs align-self-start"></i>
                        </div>
                    </div>
                    <!-- End row -->
                    <!-- Start row -->
                    <div class="row list-group-item d-flex">
                        <div class="col">ID : {{t.user.id}}</div>
                        <div class="col">Name : {{t.user.name}}</div>
                        <div class="col">Screen Name : {{t.user.screen_name}}</div>
                        <div class="col">Location: {{t.user.location}}</div>
                        <div class="col">Verified: {{t.user.verified}}</div>
                        <div class="col">Following: {{t.user.following}}</div>
                        <div class="col">Created At : {{t.user.created_at}}</div>
                        <div class="col">Friends : {{t.user.friends_count}}</div>
                        <div class="col">Followers Count : {{t.user.followers_count}}</div>
                    </div>
                    
                    </div>
                    <!-- End col -->
                </div>
            </div>
            <!-- End col -->
            
        </div>
        <!-- End row -->
    </div>
    <!-- End col -->
        {% endfor %}
    </div>
    <!-- End row -->
    {% endif %}

  </div>
  <!-- End container-fluid  -->

  {% endblock content %} {% block javascript %} {% endblock javascript %}
